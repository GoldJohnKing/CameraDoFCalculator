# 景深计算器

## 概述

景深计算器是一个用于摄影的工具，旨在帮助用户计算镜头在特定设置下的景深（Depth of Field, DoF）。通过输入传感器参数和镜头参数，用户可以快速获取前景深、后景深、总景深以及景深范围的计算结果。

## 功能

- **两种计算模式**：
  - **传感器参数模式**：根据传感器尺寸和像素数自动计算容许弥散圆直径。
  - **容许弥散圆模式**：用户手动输入容许弥散圆直径值。
- **参数输入**：
  - 传感器尺寸（毫米）
  - 像素数（像素）
  - 镜头焦距（毫米）
  - 光圈值（F值）
  - 物距（米）
- **计算结果**：
  - 容许弥散圆直径（毫米）
  - 前景深（米）
  - 后景深（米）
  - 总景深（米）
  - 景深范围（米）

## 使用方法

1. 打开 `index.html` 文件在浏览器中运行景深计算器。
2. 在“传感器参数”部分，输入传感器尺寸和像素数，或者点击“切换计算模式”按钮手动输入容许弥散圆直径。
3. 在“镜头参数”部分，输入镜头焦距、光圈值和物距。
4. 点击“计算”按钮，查看计算结果。

## 文件结构

- `index.html`：景深计算器的主页面，包含用户界面和输入表单。
- `script.js`：包含计算逻辑和事件监听的JavaScript文件。
- `styles.css`：用于美化用户界面的CSS样式文件。

## 技术细节

- 计算容许弥散圆直径的公式基于传感器尺寸和像素数：`sigma = 2 * size / pixels`。
- 景深计算公式：
  - 前景深：`(F * sigma * L * L) / (focus * focus + F * sigma * L)`
  - 后景深：`(F * sigma * L * L) / (focus * focus - F * sigma * L)`
  - 总景深：前景深 + 后景深
- 物距单位在计算时会从米转换为毫米以保持一致性。

## 许可证

本项目遵循MIT许可证。详情请见 `LICENSE.md` 文件。

## 参考资料

- https://zhuanlan.zhihu.com/p/27988410
- https://www.dofmaster.com/dofjs.html
